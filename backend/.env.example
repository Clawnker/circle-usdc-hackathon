# CSN Hackathon Backend Config
# Copy to .env and fill in your values

# AgentWallet (get from https://agentwallet.mcpay.tech)
AGENTWALLET_USERNAME=your-username
AGENTWALLET_FUND_TOKEN=mf_your_token_here
AGENTWALLET_API_KEY=mf_your_api_key_here

# Helius RPC (get from https://dashboard.helius.dev)
HELIUS_API_KEY=your-helius-api-key
HELIUS_MAINNET_RPC=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY
HELIUS_DEVNET_RPC=https://devnet.helius-rpc.com/?api-key=YOUR_KEY

# ClawArena (for Magos specialist)
CLAWARENA_API_KEY=your-clawarena-key

# MoltX (for Aura specialist)
MOLTX_API_KEY=your-moltx-key

# Network mode
SOLANA_NETWORK=devnet
EVM_CHAIN=base

# Server
PORT=3000
API_KEYS=your-api-key-here
ENFORCE_PAYMENTS=false
BANKR_API_KEY=your-bankr-key

# Sprint 3 production-hardening controls (dispatch surface)
DISPATCH_REQUIRE_AUTH=false
DISPATCH_HMAC_SECRET=
DISPATCH_MAX_SKEW_MS=300000
DISPATCH_NONCE_TTL_MS=600000
DISPATCH_MAX_NONCES=50000
DISPATCH_ROLLOUT_MODE=off
DISPATCH_CANARY_PERCENT=100
DISPATCH_CANARY_ALLOWLIST=
DISPATCH_KILL_SWITCH=false

# SLO alert hooks (logs warning when budgets are breached)
SLO_MAX_ERROR_RATE=0.05
SLO_MAX_P95_MS=2500
SLO_ALERT_MIN_SAMPLES=20
SLO_ALERT_COOLDOWN_MS=60000
SLO_PERSISTENCE_ENABLED=true
SLO_MAX_PERSISTED_SAMPLES=5000

# Retry tuning (used by reliability retry wrapper)
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY_MS=250
RETRY_MAX_DELAY_MS=2000

# Reliability feature flags (backward-compatible defaults)
RELIABILITY_ENABLE_RETRY=true
RELIABILITY_ENABLE_IDEMPOTENCY=true

# Sprint 5 reliability automation (DLQ replay worker)
RELIABILITY_DLQ_REPLAY_WORKER_ENABLED=false
RELIABILITY_DLQ_REPLAY_INTERVAL_MS=15000
RELIABILITY_DLQ_REPLAY_BATCH_SIZE=5
RELIABILITY_DLQ_REPLAY_MAX_COUNT=3
RELIABILITY_DLQ_REPLAY_MIN_AGE_MS=15000
RELIABILITY_DLQ_REPLAY_MIN_RETRY_INTERVAL_MS=10000
RELIABILITY_DLQ_REPLAY_REQUIRE_TRANSIENT=true

# Sprint 6 ops safety + auditability controls for reliability endpoints
RELIABILITY_OPS_REQUIRE_OPERATOR_KEY=false
RELIABILITY_OPS_KEYS=
RELIABILITY_OPS_REQUIRE_NON_PUBLIC_AUTH=false
RELIABILITY_OPS_ALLOW_DEMO_WRITE=true
RELIABILITY_OPS_RATE_WINDOW_MS=60000
RELIABILITY_OPS_RATE_MAX=120
RELIABILITY_OPS_AUDIT_MAX_IN_MEMORY=1000

# Sprint 7 reliability alert routing hooks (off by default)
RELIABILITY_ALERTS_ENABLED=false
RELIABILITY_ALERTS_CONSOLE=true
RELIABILITY_ALERTS_WEBHOOK_URL=
RELIABILITY_ALERTS_WEBHOOK_TIMEOUT_MS=3000
RELIABILITY_ALERTS_WEBHOOK_SECRET=

# Specialist wallets (set your treasury wallet)
WALLET_AURA=your-solana-wallet-address
WALLET_MAGOS=your-solana-wallet-address
WALLET_BANKR=your-solana-wallet-address
WALLET_SEEKER=your-solana-wallet-address
WALLET_SCRIBE=your-solana-wallet-address

# Coinbase CDP SDK
CDP_API_KEY_NAME="organizations/{org}/apiKeys/{id}"
CDP_API_KEY_SECRET="-----BEGIN EC PRIVATE KEY-----\n..."
CDP_WALLET_ADDRESS="0x..." # Optional: defaults to treasury wallet if not set

# Base URL for x402 callbacks (use cloudflared or ngrok for local dev)
BASE_URL=https://your-tunnel-url.trycloudflare.com
